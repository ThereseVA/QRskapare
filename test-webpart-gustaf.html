<!DOCTYPE html>
<html>
<head>
    <title>Webpart Gustaf Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
        button { padding: 15px 25px; margin: 10px; font-size: 16px; background: #2E5090; color: white; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background: #1e3660; }
        .success { color: green; font-weight: bold; }
        .error { color: red; font-weight: bold; }
        .info { color: #666; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>üè• Webpart Gustaf Kliniken Test</h1>
    <div class="info">Testar samma kod som anv√§nds i webpart - ska fungera exakt likadant!</div>
    
    <button onclick="testWebpartFunction()">üè• Test Webpart Gustaf Function</button>
    
    <div id="result"></div>

    <script>
        // Same function as in webpart GustafTemplate.ts
        const generateGustafKlinikenTemplate = async () => {
          const templateContent = \`
GUSTAF KLINIKEN
===============
Kvalitet ‚Ä¢ Omsorg ‚Ä¢ Trygghet


DOKUMENTMALL
============

PATIENTINFORMATION:
==================
Namn: ___________________________
Personnummer: ___________________
Adress: _________________________
         _________________________
Telefon: ________________________
E-post: _________________________

KONTAKTORSAK:
=============
Datum: __________________________
Tid: ____________________________
L√§kare: _________________________

ANTECKNINGAR:
=============
_____________________________________
_____________________________________
_____________________________________
_____________________________________
_____________________________________
_____________________________________
_____________________________________
_____________________________________

√ÖTG√ÑRDER:
=========
_____________________________________
_____________________________________
_____________________________________

N√ÑSTA BES√ñK:
============
Datum: __________________________
Tid: ____________________________
L√§kare: _________________________

√ñVRIG INFORMATION:
==================
_____________________________________
_____________________________________


-------------------------------------------
Gustaf Kliniken
Telefon: 08-123 456 78
E-post: info@gustafkliniken.se
Webb: www.gustafkliniken.se

¬© \${new Date().getFullYear()} Gustaf Kliniken
Alla r√§ttigheter f√∂rbeh√•llna
-------------------------------------------
          \`;

          return new Blob([templateContent], { 
            type: 'text/plain;charset=utf-8'
          });
        };

        // Same function as in webpart QRskapare.tsx
        const testWebpartFunction = async () => {
            try {
                console.log('üè• Generating Gustaf Kliniken template document');
                
                // Generate the template (same as webpart)
                const templateBlob = await generateGustafKlinikenTemplate();
                
                // Save the document as text file (same as webpart)
                const fileName = \`Gustaf_Kliniken_Mall_\${new Date().toISOString().split('T')[0]}.txt\`;
                
                // Download file
                const url = window.URL.createObjectURL(templateBlob);
                const a = document.createElement('a');
                a.href = url;
                a.download = fileName;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
                
                document.getElementById('result').innerHTML = '<p class="success">‚úÖ Gustaf Kliniken mall genererad framg√•ngsrikt! Textfilen har laddats ner med komplett mall.</p>';
                
            } catch (error) {
                document.getElementById('result').innerHTML = '<p class="error">‚ùå Fel: ' + error.message + '</p>';
            }
        };

        window.addEventListener('load', function() {
            document.getElementById('result').innerHTML = '<p class="info">üìã Webpart-test redo - samma kod som i SPFx webpart</p>';
        });
    </script>
</body>
</html>